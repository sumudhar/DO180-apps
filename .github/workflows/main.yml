name: GitHub Actions Demo
run-name: ${{ github.actor }} is testing out GitHub Actions 🚀
on: [push]
jobs:
  Explore-GitHub-Actions:
    runs-on: ubuntu-latest
    steps:
      - run: echo "🎉 The job was automatically triggered by a ${{ github.event_name }} event."
      - name: List files in the repository
        run: |
          ls ${{ github.workspace }}
      - run: echo "🍏 This job's status is ${{ job.status }}."
      - run: echo "{{ github.workspace }}"
      - name: Set current date as env variable
        run: echo "TODAY_DATE=$(date -u  +'%Y-%m-%d-%H-%M-%S')" >> $GITHUB_ENV
      - name: set user environment
        run: echo "USER_ENV_NAME=np-west" >> $GITHUB_ENV
      - name: set user environment
        run: echo "ENVIRONMENT=npwest" >> $GITHUB_ENV 
      - name: Echo current date, ENVIRONMENT, USER ENV
        run: echo $TODAY_DATE, $ENVIRONMENT, $USER_ENV_NAME
      - name: set file path
        run: |
           file_path="np-west-bosh-vms-vitals-$(date -u  +'%Y-%m-%d-%H-%M-%S')"
           echo $file_path
           echo "vmsvitalsfilename=$file_path.txt" >> $GITHUB_ENV
           echo "vmsvitalspayload=$file_path.json" >> $GITHUB_ENV
           pay_load="{{ github.workspace }}/generate-bosh-vms-vitals/{{ env.USER_ENV_NAME }}/$vmsvitalspayload"
           echo $pay_load
           echo "pay_load=$pay_load" >> $GITHUB_ENV
      - name: Print file path
        run: echo $file_path
      - name: Echo vmsvitalsfilename
        run: echo $PAYLOAD_FILE_PATH, $vmsvitalspayload, $vmsvitalsfilename
        
          
          
        
      
