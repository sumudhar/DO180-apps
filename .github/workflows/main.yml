name: GitHub Actions Demo
run-name: ${{ github.actor }} is testing out GitHub Actions ðŸš€
on: [push]
jobs:
  Explore-GitHub-Actions:
    runs-on: ubuntu-latest
    steps:
      - run: echo "ðŸŽ‰ The job was automatically triggered by a ${{ github.event_name }} event."
      - name: List files in the repository
        run: |
          ls ${{ github.workspace }}
      - run: echo "ðŸ This job's status is ${{ job.status }}."
      - run: echo "{{ github.workspace }}"
      - name: Set current date as env variable
        run: echo "TODAY_DATE=$(date -u  +'%Y-%m-%d-%H-%M-%S')" >> $GITHUB_ENV
      - name: set user environment
        run: echo "USER_ENV_NAME=np-west" >> $GITHUB_ENV
      - name: set user environment
        run: echo "ENVIRONMENT=npwest" >> $GITHUB_ENV 
      - name: Echo current date, ENVIRONMENT, USER ENV
        run: echo $TODAY_DATE, $ENVIRONMENT, $USER_ENV_NAME
      - name: set file path
        run: |
           file_path="np-west-bosh-vms-vitals-$(date -u  +'%Y-%m-%d-%H-%M-%S')"
           echo $file_path
           echo "file_path=$file_path" >> $GITHUB_ENV
      - name: Print file path
        run: echo $file_path
      - name: Set File names
        run:  |
          echo file_path
          #echo "vmsvitalsfilename=$($"{USER_ENV_NAME}" + "-bosh-vms-vitals-" + "${TODAY_DATE}" + ".txt") >> $GITHUB_ENV
          #echo "vmsvitalspayload=$($"{USER_ENV_NAME}" + "-bosh-vms-vitals-" + "${TODAY_DATE}" + ".json") >> $GITHUB_ENV
          #echo "PAYLOAD_FILE_PATH=$("${github.workspace}/generate-bosh-vms-vitals/${USER_ENV_NAME}/$vmsvitalspayload") >> $GITHUB_ENV
        env:
          file_path: $file_path
          
        
      - name: Echo vmsvitalsfilename
        run: echo $PAYLOAD_FILE_PATH, $vmsvitalspayload, $vmsvitalsfilename
        
          
          
        
      
